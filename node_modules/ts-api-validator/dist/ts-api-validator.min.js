(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.tsApiValidator=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./src/Schema"));__export(require("./src/config"));__export(require("./src/BooleanPart"));__export(require("./src/StringPart"));__export(require("./src/DatePart"));__export(require("./src/StringDatePart"));__export(require("./src/NumberPart"));__export(require("./src/ObjectPart"));__export(require("./src/ArrayPart"));__export(require("./src/BasePart"))},{"./src/ArrayPart":12,"./src/BasePart":13,"./src/BooleanPart":14,"./src/DatePart":15,"./src/NumberPart":16,"./src/ObjectPart":17,"./src/Schema":18,"./src/StringDatePart":19,"./src/StringPart":20,"./src/config":21}],2:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./src/utils"));__export(require("./src/filters"));__export(require("./src/Signal"));__export(require("./src/utilsWithFilters"));__export(require("./src/Path"));__export(require("./src/Iterator"));__export(require("./src/Receiver"));__export(require("./src/tree/BaseTree"));__export(require("./src/tree/Tree"))},{"./src/Iterator":3,"./src/Path":4,"./src/Receiver":5,"./src/Signal":6,"./src/filters":7,"./src/tree/BaseTree":8,"./src/tree/Tree":9,"./src/utils":10,"./src/utilsWithFilters":11}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Iterator=function(){function Iterator(some){this._step=0;this._list=some}Iterator.prototype.next=function(){if(this._step<this._list.length){var result={done:false,value:this._list[this._step]};this._step++;return result}else{return{done:true}}};return Iterator}();exports.Iterator=Iterator},{}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Iterator_1=require("./Iterator");var Path=function(){function Path(path){this._path=path;this.length=this._path.length}Path.prototype.reverse=function(){return new Path(this._path.slice().reverse())};Path.prototype.iterator=function(){var _this=this;return new Iterator_1.Iterator(this._path.map(function(item,index){return _this.getItemData(index)}))};Path.prototype.slice=function(start,end){return new Path(this._path.slice(start,end))};Path.prototype.forEach=function(cb,context){var _this=this;return this._path.forEach(function(item,index){cb.call(context,_this.getItemData(index),index)})};Path.prototype.some=function(cb,context){var _this=this;return this._path.some(function(item,index){return cb.call(context,_this.getItemData(index),index)})};Path.prototype.toString=function(){return this._path.map(function(item,i){switch(item.type){case 0:return i===0?item.name:"."+item.name;case 1:return"["+item.name+"]"}}).join("")};Path.prototype.getItemData=function(index){var container=Path.getContainer(this._path[index].type);var nextContainer=this._path[index+1]&&Path.getContainer(this._path[index+1].type)||null;return{name:this._path[index].name,container:container,nextContainer:nextContainer}};Path.parse=function(path){var parts=[];path.split(".").forEach(function(key){if(key===""){parts.push({type:0,key:key})}else{var names=key.match(/(\w+)|((\w+)\[(\d+)\])/g);if(names){names.forEach(function(name){var num=Number(name);if(String(num)===name){parts.push({type:1,name:num})}else{parts.push({type:0,name:name})}})}}});return new Path(parts)};Path.getContainer=function(type){switch(type){case 0:return Object.create(null);case 1:return[]}};return Path}();exports.Path=Path},{"./Iterator":3}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Receiver=function(){function Receiver(){}Receiver.prototype.receive=function(signal,handler,context){receive.call(this,signal,handler,context,false)};Receiver.prototype.receiveOnce=function(signal,handler,context){receive.call(this,signal,handler,context,true)};Receiver.prototype.stopReceive=function(item,handler){var _this=this;if(!this.__received){return null}if(typeof item==="function"){handler=item;item=null}if(!item){Object.keys(this.__received).forEach(function(cid){_this.stopReceive(_this.__received[cid].signal,handler)});return null}if(!handler){this.__received[item.cid].handlers.slice().forEach(function(myHandler){_this.stopReceive(item,myHandler)});return null}var handlers=this.__received[item.cid].handlers;for(var i=handlers.length;i--;){if(handlers[i]===handler){handlers.splice(i,1);this.__received[item.cid].signal.off(handler,this)}}if(!handlers.length){delete this.__received[item.cid]}};return Receiver}();exports.Receiver=Receiver;function receive(signal,handler,context,isOnce){if(!this.__received){this.__received=Object.create(null)}if(isOnce){signal.once(handler,context,this)}else{signal.on(handler,context,this)}if(!this.__received[signal.cid]){this.__received[signal.cid]={handlers:[handler],signal:signal}}else{this.__received[signal.cid].handlers.push(handler)}}},{}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("./utils");var Signal=function(){function Signal(){this.cid=utils_1.uniqueId("signal");this._handlers=[]}Signal.prototype.on=function(handler,context,receiver){this._handlers.push({isOnce:false,handler:handler,context:context,receiver:receiver})};Signal.prototype.once=function(handler,context,receiver){this._handlers.push({isOnce:true,handler:handler,context:context,receiver:receiver})};Signal.prototype.off=function(handler,receiver){for(var i=this._handlers.length;i--;){var handlerData=this._handlers[i];if(!handlerData){continue}if(handlerData.handler===handler){if(handlerData.receiver){if(receiver){if(handlerData.receiver===receiver){this._handlers.splice(i,1);handlerData.receiver.stopReceive(this,handler)}}else{throw new Error("Can't remove this handler without receiver!")}}else{this._handlers.splice(i,1)}}}};Signal.prototype.dispatch=function(some){var _this=this;this._handlers.slice().forEach(function(handlerData){if(handlerData.isOnce){_this.off(handlerData.handler,handlerData.receiver)}handlerData.handler.call(handlerData.context,some)})};return Signal}();exports.Signal=Signal},{"./utils":10}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("./utils");var EMPTY_FUNCS_MAP={skipNumber:utils_1.isNumber,skipString:utils_1.isString,skipNotEmpty:utils_1.isNotEmpty,skipNull:utils_1.isNull,skipUndefined:utils_1.isUndefined};function filterList(){var filters=[];for(var _i=0;_i<arguments.length;_i++){filters[_i]=arguments[_i]}if(!filters.length){return function(){return true}}return function(item){return filters.every(function(filter){return filter(item)})}}exports.filterList=filterList;function not(processor){if(processor){return function(data){return!processor(data)}}else{return function(data){return!data}}}exports.not=not;function empty(options){if(!options){return Boolean}var functions=[];utils_1.each(options,function(value,optionName){if(EMPTY_FUNCS_MAP[optionName]&&value){functions.push(EMPTY_FUNCS_MAP[optionName])}});if(!functions.length){return Boolean}else{return function(data){return functions.some(function(f){return f(data)})||!!data}}}exports.empty=empty;function contains(data){if(typeof data==="object"){var keys_1=Object.keys(data);return function(localData){if(!utils_1.isObject(localData)){return false}return keys_1.every(function(key){return data[key]===localData[key]})}}else{return function(localData){return data===localData}}}exports.contains=contains;function containsDeep(data){var paths=utils_1.getPaths(data);var check=function(localData){return paths.every(function(parts){return utils_1.get(data,parts)===utils_1.get(localData,parts)})};return function(localData){if(typeof localData==="object"){return check(localData)}else{return false}}}exports.containsDeep=containsDeep;function notContains(data){return not(contains(data))}exports.notContains=notContains;function notContainsDeep(data){return not(containsDeep(data))}exports.notContainsDeep=notContainsDeep;function roundFilter(len){return function(num){return utils_1.round(num,len)}}exports.roundFilter=roundFilter;function splitRangeFilter(processor,separator){return function(num){return utils_1.splitRange(num,separator,processor)}}exports.splitRangeFilter=splitRangeFilter;function roundSplit(len,separator){return splitRangeFilter(roundFilter(len),separator)}exports.roundSplit=roundSplit;function equal(some,noStrict){if(noStrict){return function(data){return some==data}}return function(data){return some===data}}exports.equal=equal;function notEqual(some,noStrict){return not(equal(some,noStrict))}exports.notEqual=notEqual;var dateParsers=[{pattern:"YYYY",handler:function(localDate){return String(localDate.getFullYear())}},{pattern:"YY",handler:function(localDate){return String(localDate.getFullYear()).substr(2)}},{pattern:"MM",handler:function(localDate){return String(utils_1.numToLength(localDate.getMonth()+1,2))}},{pattern:"M",handler:function(localDate){return String(localDate.getMonth()+1)}},{pattern:"DD",handler:function(localDate){return String(utils_1.numToLength(localDate.getDate(),2))}},{pattern:"D",handler:function(localDate){return String(localDate.getDate())}},{pattern:"hh",handler:function(localDate){return String(utils_1.numToLength(localDate.getHours(),2))}},{pattern:"h",handler:function(localDate){return String(localDate.getHours())}},{pattern:"mm",handler:function(localDate){return String(utils_1.numToLength(localDate.getMinutes(),2))}},{pattern:"m",handler:function(localDate){return String(localDate.getMinutes())}},{pattern:"ss",handler:function(localDate){return String(utils_1.numToLength(localDate.getSeconds(),2))}},{pattern:"s",handler:function(localDate){return String(localDate.getSeconds())}}];function date(pattern,processor){var localPatterns=[];var forFind=pattern;var parse;dateParsers.forEach(function(datePattern){if(forFind.indexOf(datePattern.pattern)!==-1){forFind=forFind.replace(datePattern.pattern,"");localPatterns.push(datePattern)}});if(processor){parse=function(toParse){var result=processor(toParse);return utils_1.isNumber(result)?new Date(result):result}}else{parse=function(data){return utils_1.isNumber(data)?new Date(data):data}}return function(localDate){var _date=parse(localDate);return localPatterns.reduce(function(result,datePattern){return result.replace(datePattern.pattern,datePattern.handler(_date))},pattern)}}exports.date=date;function getBinaryFilter(data){var dataPaths=utils_1.getPaths(data);if(dataPaths.length===1){var path_1=dataPaths[0];var value_1=utils_1.get(data,path_1);return function(item){var itemValue=utils_1.get(item,path_1);return itemValue>value_1?-1:itemValue===value_1?0:1}}else{var pathsStr_1=dataPaths.map(String);var pathsHash_1=Object.create(null);dataPaths.forEach(function(path){pathsHash_1[String(path)]=utils_1.get(data,path)});return function(item){var map=dataPaths.map(function(path,i){var itemValue=utils_1.get(item,path);var pathStr=pathsStr_1[i];return itemValue>pathsHash_1[pathStr]?-1:itemValue===pathsHash_1[pathStr]?0:1});var witoutZero=map.filter(Boolean);if(witoutZero.length===0){return 0}else{return witoutZero[0]}}}}exports.getBinaryFilter=getBinaryFilter},{"./utils":10}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("../utils");var BaseTree=function(){function BaseTree(data,parent,options){var _this=this;this.children=[];this.parent=parent;this.id=data.id;this.data=utils_1.cloneDeep(data.data);this.ChildConstructor=options&&options.Child||BaseTree;this.getRoot().registerChild(this);if(data.children){data.children.forEach(function(item){_this.children.push(new _this.ChildConstructor(item,_this,options))})}}BaseTree.prototype.getChildren=function(){return this.children||[]};BaseTree.prototype.toArray=function(){var result=[this];if(this.children){this.children.forEach(function(item){result.push.apply(result,item.toArray())})}return result};BaseTree.prototype.getData=function(){return this.data||Object.create(null)};BaseTree.prototype.set=function(key,value){this.data[key]=value};BaseTree.prototype.get=function(key){return this.getData()[key]};BaseTree.prototype.getExtended=function(key){var result=this.get(key);return result==null?this.parent.getExtended(key):result};BaseTree.prototype.getParent=function(){return this.parent};BaseTree.prototype.getRoot=function(){return this.parent.getRoot()};return BaseTree}();exports.BaseTree=BaseTree},{"../utils":10}],9:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BaseTree_1=require("./BaseTree");var filters_1=require("../filters");var Tree=function(_super){__extends(Tree,_super);function Tree(data,options){return _super.call(this,data,null,options)||this}Tree.prototype.where=function(data){var _this=this;var filter=typeof data==="object"?filters_1.containsDeep(data):filters_1.contains(data);return Object.keys(this._childHash).reduce(function(result,item,i){if(filter(_this._childHash[item].getData())){result.push(_this._childHash[item])}return result},[])};Tree.prototype.registerChild=function(child){if(!this._childHash){this._childHash=Object.create(null)}if(child!==this){if(this._childHash[child.id]){throw new Error("Duplicate ID")}else{this._childHash[child.id]=child}}};Tree.prototype.getPath=function(id){var item=this.find(id);if(!item){return null}var result=[];var tmp=item;do{result.push(tmp.id);tmp=tmp.getParent()}while(tmp.getParent());return result.reverse()};Tree.prototype.getRoot=function(){return this};Tree.prototype.find=function(id){return this._childHash[id]};return Tree}(BaseTree_1.BaseTree);exports.Tree=Tree},{"../filters":7,"./BaseTree":8}],10:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};Object.defineProperty(exports,"__esModule",{value:true});var Path_1=require("./Path");var TYPES={string:"[object String]",number:"[object Number]",boolean:"[object Boolean]",object:"[object Object]",array:"[object Array]"};var toString=Object.prototype.toString;exports.DEFAULT_NUMBER_SEPARATOR=",";function isObject(param){return toString.call(param)===TYPES.object}exports.isObject=isObject;function isEmpty(param){return param==null}exports.isEmpty=isEmpty;function isNotEmpty(param){return param!=null}exports.isNotEmpty=isNotEmpty;function isString(param){return toString.call(param)===TYPES.string}exports.isString=isString;function isNumber(param){return toString.call(param)===TYPES.number}exports.isNumber=isNumber;function isArray(param){return toString.call(param)===TYPES.array}exports.isArray=isArray;function isBoolean(param){return toString.call(param)===TYPES.boolean}exports.isBoolean=isBoolean;function isNull(param){return param===null}exports.isNull=isNull;function isUndefined(param){return param===undefined}exports.isUndefined=isUndefined;function isNaNCheck(param){return isNumber(param)&&isNaN(param)}exports.isNaNCheck=isNaNCheck;function isFunction(param){return typeof param==="function"}exports.isFunction=isFunction;function typeOf(param){var type=typeof param;switch(type){case"object":if(param===null){return"null"}else{var checkList=[{check:isArray,type:"array"},{check:isObject,type:"object"},{check:isString,type:"string"},{check:isNumber,type:"number"},{check:isBoolean,type:"boolean"}];var $type_1="null";checkList.some(function(item){if(item.check(param)){$type_1=item.type}return $type_1!=="null"});return $type_1}default:return type}}exports.typeOf=typeOf;function numToLength(num,length){var str=String(num);for(var i=str.length;i<length;i++){str="0"+str}return str}exports.numToLength=numToLength;function round(num,len){len=len||2;return Number(Math.round(Number(num+"e"+len))+"e-"+len)}exports.round=round;function splitRange(num,separator,processor){separator=isEmpty(separator)?exports.DEFAULT_NUMBER_SEPARATOR:separator;if(processor){num=processor(num)}var str=String(num);var numData=str.split(".");var integral=numData[0],fractional=numData[1];integral=integral.split("").reverse().join("");integral=integral.replace(/(\d{3})/g,"$1"+separator).split("").reverse().join("").trim();if(fractional){return integral+"."+fractional}return integral}exports.splitRange=splitRange;function each(param,callback,context){if(typeof param!=="object"||!param){return null}if(context){return Array.isArray(param)?param.forEach(callback,context):Object.keys(param).forEach(function(key){return callback.call(context,param[key],key)})}else{return Array.isArray(param)?param.forEach(callback):Object.keys(param).forEach(function(key){return callback(param[key],key)})}}exports.each=each;function some(param,callback){return Object.keys(param).some(function(key){return callback(param[key],key)})}exports.some=some;function get(data,path){var tmp=data;var parts=isString(path)?Path_1.Path.parse(path):path;parts.some(function(item){if(typeof tmp==="object"&&tmp!==null&&item.name in tmp){tmp=tmp[item.name]}else{tmp=null;return true}});return tmp}exports.get=get;function set(data,path,value){var tmp=data;var parts=isString(path)?Path_1.Path.parse(path):path;parts.forEach(function(itemData,index){var isLast=index===parts.length-1;if(isLast){tmp[itemData.name]=value}else{if(typeof tmp[itemData.name]!=="object"){tmp[itemData.name]=itemData.nextContainer}tmp=tmp[itemData.name]}})}exports.set=set;function getLayers(data,path){var tmp=data;var layers=[{name:null,data:data,parent:null}];var parts=isString(path)?Path_1.Path.parse(path):path;parts.forEach(function(item){if(tmp){layers.push({name:item.name,data:tmp[item.name],parent:tmp});tmp=tmp[item.name]}else{layers=null}});return layers}exports.getLayers=getLayers;function unset(data,path){(getLayers(data,path)||[]).reverse().some(function(item,index){if(index===0){if(item.parent){delete item.parent[item.name]}}else{if(item.parent&&Object.keys(item.data).length===0){delete item.parent[item.name]}}})}exports.unset=unset;var counter=0;function uniqueId(prefix){if(prefix===void 0){prefix=""}return""+prefix+counter++}exports.uniqueId=uniqueId;function result(param){if(isFunction(param)){return param()}else{return param}}exports.result=result;function getPaths(param){var paths=[];function getIterate(parents,array){var iterate=function(value,key){var newLine=parents.slice();newLine.push({type:array?1:0,name:key});if(isObject(value)){each(value,getIterate(newLine))}else if(isArray(value)){each(value,getIterate(newLine,true))}else{paths.push(newLine)}};return iterate}var firstLine=[];each(param,getIterate(firstLine,isArray(param)));return paths.map(function(pathParts){return new Path_1.Path(pathParts)})}exports.getPaths=getPaths;function clone(data){switch(typeof data){case"object":if(data===null){return null}if(Array.isArray(data)){return data.slice()}else{return __assign({},data)}default:return data}}exports.clone=clone;function cloneDeep(data){switch(typeof data){case"object":var paths=getPaths(data);var $clone_1=isArray(data)?[]:Object.create(null);paths.forEach(function(path){var value=get(data,path);set($clone_1,path,value)});return $clone_1;default:return data}}exports.cloneDeep=cloneDeep;function merge(origin){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}args.forEach(function(part){var paths=getPaths(part);paths.forEach(function(path){var value=get(part,path);set(origin,path,value)})});return origin}exports.merge=merge;function defaults(target){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var paths=getPaths(target).map(String);args.reverse().forEach(function(item){var itemPaths=getPaths(item);itemPaths.forEach(function(path){var stringPath=path.toString();if(paths.indexOf(stringPath)===-1){paths.push(stringPath);set(target,path,get(item,path))}})});return target}exports.defaults=defaults;function camelCase(text){return text.split(/\W|_/).map(function(item,index){switch(index){case 0:return item;default:return item.charAt(0).toUpperCase()+item.substr(1)}}).join("")}exports.camelCase=camelCase},{"./Path":4}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("./utils");var filters_1=require("./filters");function find(some,target){var filter=utils_1.isFunction(target)?target:filters_1.contains(target);var result=null;if(utils_1.isArray(some)){some.some(function(data){if(filter(data)){result=data;return true}})}else{Object.keys(some).some(function(key){if(filter(some[key])){result=some[key];return true}})}return result}exports.find=find;function binaryFind(some,target){var result={index:-1,value:null};var delta=0;var step=function(arr){var index=Math.floor(arr.length/2);var item=arr[index];switch(target(item)){case-1:step(arr.slice(0,index));break;case 0:result={index:index+delta,value:item};break;case 1:delta+=index;step(arr.slice(index));break}};step(some.slice());return result}exports.binaryFind=binaryFind},{"./filters":7,"./utils":10}],12:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var ts_utils_1=require("ts-utils");var ArrayPart=function(_super){__extends(ArrayPart,_super);function ArrayPart(config,path){var _this=_super.call(this,config,path)||this;var Component=_this.options.content.type;_this._child=new Component(_this.options.content);return _this}ArrayPart.prototype.process=function(data,rootList){var _this=this;return _super.prototype.process.call(this,data,rootList).then(function(value){if(value&&ts_utils_1.isArray(value)){return Promise.all(value.map(function(item){return _this._child.process(item,rootList.concat(data))}))}else{return value}})};ArrayPart.prototype.getValue=function(data){if(ts_utils_1.isArray(data)){return data}else{return null}};return ArrayPart}(BasePart_1.BasePart);exports.ArrayPart=ArrayPart},{"./BasePart":13,"ts-utils":2}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ts_utils_1=require("ts-utils");var BasePart=function(){function BasePart(options,path){this.options=options;this.path=path;if(this.options.isEmpty){this.isEmpty=this.options.isEmpty}if(this.options.isValid){this.isValid=this.options.isValid}if(this.options.required&&"defaultValue"in this.options){throw new Error('Wrong params! Conflict options "required" and defaultValue')}}BasePart.prototype.process=function(data,roots){var _this=this;var path=this.getPath();var result=this.getValue(this.getDataByPath(data,path),roots);return BasePart.toPromise(result).then(function(value){var isEmpty=_this.isEmpty(value);var isValid=_this.isValid(value);var type=_this.options.type.name||_this.options.type.prototype.constructor.name;if(_this.options.required){if(isEmpty){throw new Error('Required field type "'+type+'" "'+path+'" is empty!')}}if("defaultValue"in _this.options&&isEmpty){value=_this.options.defaultValue}else{if(!isValid){throw new Error('Field "'+path+'" is invalid!')}}return value})};BasePart.prototype.getPath=function(){return this.options.path===null?null:this.options.path||this.path};BasePart.prototype.isEmpty=function(data){return data==null};BasePart.prototype.isValid=function(data){return true};BasePart.prototype.getDataByPath=function(data,path){if(this.options.parseValue){if(path){return this.options.parseValue(ts_utils_1.get(data,path))}else{return this.options.parseValue(data)}}else if(path!=null){return ts_utils_1.get(data,path)}else{return data}};BasePart.isPromise=function(some){return some&&some.then&&typeof some.then==="function"};BasePart.toPromise=function(some){return BasePart.isPromise(some)?some:Promise.resolve(some)};return BasePart}();exports.BasePart=BasePart},{"ts-utils":2}],14:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var BooleanPart=function(_super){__extends(BooleanPart,_super);function BooleanPart(){return _super!==null&&_super.apply(this,arguments)||this}BooleanPart.prototype.getValue=function(data){switch(typeof data){case"boolean":return data;case"string":case"number":return Boolean(data);default:return null}};return BooleanPart}(BasePart_1.BasePart);exports.BooleanPart=BooleanPart},{"./BasePart":13}],15:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var DatePart=function(_super){__extends(DatePart,_super);function DatePart(){return _super!==null&&_super.apply(this,arguments)||this}DatePart.prototype.getValue=function(data){if(data instanceof Date){return data}if(typeof data==="number"){return new Date(data)}return null};return DatePart}(BasePart_1.BasePart);exports.DatePart=DatePart},{"./BasePart":13}],16:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var NumberPart=function(_super){__extends(NumberPart,_super);function NumberPart(){return _super!==null&&_super.apply(this,arguments)||this}NumberPart.prototype.getValue=function(data){switch(typeof data){case"number":return data;case"string":return Number(data);default:return null}};NumberPart.prototype.isEmpty=function(data){return data==null||isNaN(data)};return NumberPart}(BasePart_1.BasePart);exports.NumberPart=NumberPart},{"./BasePart":13}],17:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var ts_utils_1=require("ts-utils");var ObjectPart=function(_super){__extends(ObjectPart,_super);function ObjectPart(config,path){var _this=_super.call(this,config,path)||this;var myPath=_this.getPath();_this._childHash=Object.create(null);ts_utils_1.each(_this.options.content,function(config,key){var Component=config.type;var localPath=path==null?String(key):myPath+"."+key;_this._childHash[key]=new Component(config,localPath)});return _this}ObjectPart.prototype.process=function(data,rootList){var _this=this;return _super.prototype.process.call(this,data,rootList).then(function(value){if(value&&ts_utils_1.isObject(value)){var promises_1=[];var result_1=Object.create(null);Object.keys(_this._childHash).forEach(function(name){var promise=_this._childHash[name].process(data,rootList).then(function(itemValue){result_1[name]=itemValue});promises_1.push(promise)});return Promise.all(promises_1).then(function(){return result_1})}else{return value}})};ObjectPart.prototype.getValue=function(data){if(ts_utils_1.isObject(data)){return data}else{return null}};return ObjectPart}(BasePart_1.BasePart);exports.ObjectPart=ObjectPart},{"./BasePart":13,"ts-utils":2}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Schema=function(){function Schema(config){var Component=config.type;this._children=new Component(config)}Schema.prototype.parse=function(data){return this._children.process(data,[])};return Schema}();exports.Schema=Schema},{}],19:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var config_1=require("./config");var ts_utils_1=require("ts-utils");var StringDatePart=function(_super){__extends(StringDatePart,_super);function StringDatePart(config,path){var _this=_super.call(this,config,path)||this;_this.dateProcessor=ts_utils_1.date(_this.options.outPattern||config_1.OUT_DATE_PATTERN);return _this}StringDatePart.prototype.getValue=function(data){var date;if(data instanceof Date){date=data}if(typeof data==="number"){date=new Date(data)}if(date){return this.dateProcessor(date)}return null};return StringDatePart}(BasePart_1.BasePart);exports.StringDatePart=StringDatePart},{"./BasePart":13,"./config":21,"ts-utils":2}],20:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var StringPart=function(_super){__extends(StringPart,_super);function StringPart(){return _super!==null&&_super.apply(this,arguments)||this}StringPart.prototype.getValue=function(data){switch(typeof data){case"string":return data;case"number":return String(data);default:return null}};return StringPart}(BasePart_1.BasePart);exports.StringPart=StringPart},{"./BasePart":13}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OUT_DATE_PATTERN="DD.MM.YYYY"},{}]},{},[1])(1)});